(this.webpackJsonpemployees=this.webpackJsonpemployees||[]).push([[0],{69:function(e,t,a){},70:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a(22),n=a.n(c),s=a(11),l=a(10),i=a(3),o=a(0);function u(){return Object(o.jsx)("div",{className:"home",children:"Home"})}var j=a(5),b=a(9),d=a(36),m=a.n(d).a.create({baseURL:"https://yalantis-react-school-api.yalantis.com/api/"}),O=function(){return m.get("task0/users")},h=a(21),v="GET_ALL_USERS",p="CHANGE_USER_STATUS",f={users:[]};var x=a.p+"static/media/loader.0d810226.svg",g=function(){return Object(o.jsx)("div",{className:"preloaderWrap",children:Object(o.jsx)("img",{src:x,alt:"preloader"})})},N=a(19);var y=a(71);function C(e){var t=e.name,a=e.label,r=e.value,c=e.type,n=e.alert,s=e.inputChange,l=e.className,i=e.placeholder;return Object(o.jsxs)("div",{className:l?"form-group ".concat(l):"form-group",children:[n&&Object(o.jsx)("div",{className:"error",children:n}),Object(o.jsx)("input",{id:t,name:t,type:c,onChange:s,defaultValue:r||null,placeholder:i||" "}),Object(o.jsx)("label",{htmlFor:t,children:a})]})}function E(e){var t=e.name,a=e.label,c=e.value,n=e.type,s=e.options,l=e.inputChange,i=e.className,u=Object(r.useState)(!1),j=Object(b.a)(u,2),d=j[0],m=j[1];return Object(o.jsx)("div",{className:i?"form-group ".concat(i):"form-group",children:Object(o.jsxs)("div",{className:d?"selecter open":"selecter",onClick:function(){return m(!d)},children:[Object(o.jsxs)("div",{className:"trigger",name:t,children:[Object(o.jsx)("div",{children:c}),Object(o.jsx)("div",{className:"arrow-wrap",children:Object(o.jsx)("div",{className:"arrow"})})]}),s&&Object(o.jsx)("div",{className:"options",children:s.map((function(e){return Object(o.jsx)("input",{className:e.value===c?"option active":"option",type:n,name:t,defaultValue:e.value,onClick:l},e.value)}))}),Object(o.jsx)("label",{htmlFor:t,children:!c&&a})]})})}function S(e){var t=e.name,a=e.label,r=e.value,c=e.alert,n=e.inputChange,s=e.className;return Object(o.jsxs)("div",{className:s?"form-group ".concat(s):"form-group",children:[c&&Object(o.jsx)("div",{className:"error",children:c}),Object(o.jsx)("input",{id:t,name:t,type:"checkbox",value:r,checked:r||!1,onChange:n}),Object(o.jsx)("label",{htmlFor:t,children:a})]})}function k(e){var t=e.name,a=(e.label,e.value),r=(e.checked,e.alert),c=e.options,n=e.inputChange,s=e.className;return Object(o.jsxs)("div",{className:s?"form-group ".concat(s):"form-group",children:[r&&Object(o.jsx)("div",{className:"error",children:r}),c&&c.map((function(e){return Object(o.jsxs)("div",{className:"radio",children:[Object(o.jsx)("input",{id:Object(y.a)(),name:t,type:"radio",value:e.value,checked:a===e.value,onChange:n}),Object(o.jsx)("label",{htmlFor:e.name,children:e.name})]},e.value)}))]})}function w(e){var t=e.name,a=e.label,r=e.value,c=e.alert,n=e.placeholder,s=e.rows,l=e.cols,i=e.inputChange,u=e.className;return Object(o.jsxs)("div",{className:u?"form-group ".concat(u):"form-group",children:[c&&Object(o.jsx)("div",{className:"error",children:c}),Object(o.jsx)("textarea",{id:t,name:t,defaultValue:r,type:"textarea",rows:s,cols:l,placeholder:n,onChange:i}),a&&Object(o.jsx)("label",{htmlFor:t,children:a})]})}function M(e){var t=e.name,a=(e.label,e.value,e.alert,e.placeholder,e.rows,e.cols,e.inputChange,e.className);return Object(o.jsx)("div",{className:a?"form-group ".concat(a):"form-group",children:t})}function F(e){var t=e.initModels,a=e.initValue,c=e.submitCb,n=e.cancelCb,s=e.valueCb,l=e.btnSubmit,i=e.btnCancel,u=e.firstTag,d=e.secondTag,m=e.cls,O=function(e,t,a,c){var n=Object(r.useState)(e),s=Object(b.a)(n,2),l=s[0],i=s[1],o=Object(r.useState)(t),u=Object(b.a)(o,2),d=u[0],m=u[1],O=Object(r.useState)(!1),v=Object(b.a)(O,2),p=v[0],f=v[1],x=function(e){var t=null;e.validators&&e.validators.forEach((function(a){!0!==a.validFun(d[e.name])&&(t=a.validAlert?a.validAlert:a.validFun(d[e.name]))})),e.alert=t,i(Object(h.a)(l))};return Object(r.useEffect)((function(){c&&c(d),p&&l.forEach((function(e){x(e)}))}),[d,p]),[l,d,function(e){e.persist(),"checkbox"===e.target.type?m(Object(j.a)(Object(j.a)({},d),{},Object(N.a)({},e.target.name,e.target.checked))):m(Object(j.a)(Object(j.a)({},d),{},Object(N.a)({},e.target.name,e.target.value)))},function(e){e&&e.preventDefault(),l.forEach((function(e){return x(e)})),l.some((function(e){return e.alert}))?i(Object(h.a)(l)):a(d),f(!0)}]}(t,a,c,s),v=Object(b.a)(O,4),p=v[0],f=v[1],x=v[2],g=v[3],F={Input:C,Select:E,Textarea:w,Radio:k,Checkbox:S,Divider:M};return Object(o.jsxs)("form",{autoComplete:"off",onKeyPress:function(e){return"Enter"===e.key&&g(e)},className:m,children:[p.map((function(e){var t=e.type;"password"===e.type&&(t="input");var a,r=F[(a=t,a.charAt(0).toUpperCase()+a.slice(1))];return Object(o.jsx)(r,Object(j.a)({inputChange:x,value:f[e.name]},e),Object(y.a)())})),u,d,i&&Object(o.jsx)("button",{type:"cancel",onClick:n,children:i}),l&&Object(o.jsx)("button",{type:"submit",onClick:g,className:"btn-submit",children:l})]})}function A(e){var t=e.user,a=e.valueCbFn,r=t.lastName,c=t.firstName,n=t.id,s={radiooo:t.status};return Object(o.jsxs)("div",{className:"oneUserWrap",children:[Object(o.jsxs)("div",{className:"true"===t.status?"name active":"name",children:[r," ",c]}),Object(o.jsx)(F,{initValue:s,initModels:[{name:"radiooo",type:"radio",options:[{value:"false",name:"not active"},{value:"true",name:"active"}]}],valueCb:function(e){return a(n,e)}})]})}function _(e){var t=e.char,a=e.usersByCharArr,r=e.valueCbFn;return Object(o.jsxs)("div",{className:"oneCharWrap",children:[Object(o.jsx)("div",{children:t}),a.length?Object(o.jsx)("div",{children:a.map((function(e){return Object(o.jsx)(A,{user:e,valueCbFn:r},e.id)}))}):Object(o.jsx)("div",{className:"empty",children:"-----"})]})}function D(e){for(var t=e.usersArr,a=[],c=Object(s.b)(),n=0;n<26;n++)a.push(String.fromCharCode(65+n));var l=Object(r.useCallback)((function(e,t){var a;localStorage.setItem(e,t.radiooo),c((a={id:e,status:t.radiooo},{type:p,data:a}))}),[c]);return Object(o.jsxs)("div",{className:"listWrap",children:[Object(o.jsx)("h2",{children:"Employees"}),Object(o.jsx)("div",{className:"list",children:a.map((function(e){var a=t.filter((function(t){return t.lastName.substring(0,1)===e}));return Object(o.jsx)(_,{char:e,usersByCharArr:a,valueCbFn:l},e)}))})]})}var T=a(15),L=a.n(T);function P(e){var t=e.usersByMonth,a=L()(t[0].dob).format("MMMM");return t.sort((function(e,t){var a=e.lastName.toLowerCase(),r=t.lastName.toLowerCase();return a<r?-1:a>r?1:0})),Object(o.jsxs)("div",{className:"oneMonthWrap",children:[Object(o.jsx)("div",{children:a}),Object(o.jsx)("div",{children:t.map((function(e){var t=e.lastName,a=e.firstName,r=e.id,c=e.dob,n=L()(c).format("DD MMM, YYYY");return Object(o.jsxs)("div",{className:"name",children:[t," ",a," - ",n," year"]},r)}))})]})}function U(e){for(var t=e.usersArr,a=[],r=L()().format("M"),c=0;c<12;c++)a.push(c+1);var n=a.splice(0,r-1),s=a.concat(n),l=t.filter((function(e){return"true"===e.status})),i=s.map((function(e){var t=l.filter((function(t){return+L()(t.dob).format("M")===e}));return t.length>0&&Object(o.jsx)(P,{usersByMonth:t},e)}));return Object(o.jsxs)("div",{className:"birthdayWrap",children:[Object(o.jsx)("h2",{children:"Employees birthday"}),l.length>0?Object(o.jsx)("div",{className:"list",children:i}):Object(o.jsx)("div",{className:"empty",children:"Employees List is empty"})]})}function V(){var e=Object(r.useState)(!0),t=Object(b.a)(e,2),a=t[0],c=t[1],n=Object(s.b)(),l=Object(s.c)((function(e){return e.employeesPage.users}));return Object(r.useEffect)((function(){a&&O().then((function(e){var t=e.data,a=function(){for(var e={},t=0;t<localStorage.length;t++){var a=localStorage.key(t);e[a]=localStorage.getItem(a)}return e}(),r=t.map((function(e){return void 0!==a[e.id]?Object(j.a)(Object(j.a)({},e),{},{status:a[e.id]}):Object(j.a)(Object(j.a)({},e),{},{status:"false"})}));n({type:v,usersData:r}),c(!1)}))}),[a,n]),Object(o.jsx)(o.Fragment,{children:a?Object(o.jsx)(g,{}):Object(o.jsxs)("div",{className:"employees",children:[Object(o.jsx)(D,{usersArr:l}),Object(o.jsx)(U,{usersArr:l})]})})}function W(){return Object(o.jsxs)("div",{className:"page404",children:[Object(o.jsx)("div",{children:"404"}),Object(o.jsx)("div",{children:"PAGE NOT FOUND"})]})}function B(){return Object(o.jsxs)(i.c,{children:[Object(o.jsx)(i.a,{exact:!0,path:"/",component:u}),Object(o.jsx)(i.a,{path:"/employees",component:V}),Object(o.jsx)(i.a,{path:"*",component:W})]})}function I(){return Object(o.jsx)("div",{className:"logo",children:Object(o.jsx)(l.b,{to:"/",children:Object(o.jsx)("div",{id:"logo",children:"Logo"})})})}function R(){var e=[{url:"employees",name:"Employees"},{url:"page1",name:"Page 1"},{url:"page2",name:"Page 2"}],t=function(){return Object(o.jsx)(o.Fragment,{children:e.map((function(e){return Object(o.jsx)(l.b,{to:"/".concat(e.url),children:e.name},e.url)}))})};return Object(o.jsx)(t,{})}function Y(){return Object(o.jsxs)("header",{children:[Object(o.jsx)(I,{}),Object(o.jsx)(R,{})]})}var G=a(37),H=Object(G.a)();function J(){return Object(o.jsxs)(l.a,{history:H,children:[Object(o.jsx)(Y,{}),Object(o.jsx)(B,{})]})}a(69);var X=a(16),K=a(38),q={};var z=Object(X.b)({homePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;return t.type,e},employeesPage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return Object(j.a)(Object(j.a)({},e),{},{users:t.usersData});case p:return Object(j.a)(Object(j.a)({},e),{},{users:Object(h.a)(e.users.map((function(e){return e.id===t.data.id?Object(j.a)(Object(j.a)({},e),{},{status:t.data.status}):e})))});default:return e}}}),Q=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||X.c,Z=Object(X.d)(z,Q(Object(X.a)(K.a)));window.store=Z;var $=Z;n.a.render(Object(o.jsx)(s.a,{store:$,children:Object(o.jsx)(J,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.49230268.chunk.js.map